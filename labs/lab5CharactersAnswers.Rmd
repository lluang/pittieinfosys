---
title: 'Lab 5: Character Strings'
author: "IE 0015 Information Systems"
date: "01/02/2017"
output: pdf_document
---

```{r loadtitanic}
titanic <- read.csv("../data/titanic3.csv")
```
1.  (3 pts) The Titanic accident was in a time when people were identified by their titles. In the Titanic data, How do you identify the title (Mr., Mrs., Miss. etc) of a person? Draw a process map for this procedure.

ANSWER

Look in the name field, find the comma after the last name.
The title starts two spaces after the comma.
The title is completed with a period.

2.  (5 pts) Read in the titanic data and extract the title of each person.  Make a list of unique titles.
  (hint, how do you find the first letter? how do you know the title is complete? Note: The Countess is a special case, don't worry about getting her territory right, just her title.  Note 2:  in a regular expression, you need to escape the punctuation with a backslash, and you need to escape the backslash with another backslash (i.e. two backslashes before a punctuation mark.)
  
  
ANSWER

```{r}
getTitle <- function(data) {
  title.dot.start <- regexpr("\\,[A-Z ]*\\.", data$name, TRUE)
  title.comma.end <- title.dot.start+ attr(title.dot.start, "match.length")
  data$Title <- substr(data$name, title.dot.start+2, title.comma.end-1)
  return (data$Title)
}  
titanic$Title <- getTitle(titanic)
unique(titanic$Title)  
```

3.  (2 pts) How many passengers have each title? (hint: declare the list of titles to be a factor and take the summary)

ANSWER

```{r}
titanic$Title <- factor(titanic$Title)
summary(titanic$Title)
```
