Simple Graghs with ggplot2
==========================
author: Shi Tang
date: January, 2015 

```{r loadlibraries}
library(ggplot2)
library(plyr)
library(dplyr)
library(mgcv)
```

```{r, echo = FALSE}
FemPreg <- read.csv("../data/2006_2010_FemPreg.csv",
                     header=TRUE,sep=",")
```

1.  [4 pts] Read the National Survey of Family Growth Female Pregnancy dataset into R (either from CSV or SQLite). Identify the variables that corresponds to the duration of a completed pregnancy in weeks and the outcome. Plot three histograms: (1)  All live births, (2) current pregnancy (pregnancy ongoing at the time of survey), and (3) miscarriages. Include axis labels and titles (e.g. , `xlab="Pregnancy length", ylab="Weeks", main="Pregnancy lengths of live births"`).  Give an interpretation of the third histogram (miscarriage).

**ANSWER**

```{r, echo = TRUE}
qplot(PRGLNGTH, data = FemPreg[FemPreg$OUTCOME==1,], geom = "histogram", xlab="Pregnancy length", ylab="Weeks", main="Pregnancy lengths of live births")
qplot(PRGLNGTH, data = FemPreg[FemPreg$OUTCOME==6,], geom = "histogram", xlab="Pregnancy length", ylab="Weeks", main="Pregnancy lengths of current pregnancies")
qplot(PRGLNGTH, data = FemPreg[(FemPreg$OUTCOME==4),], geom = "histogram", xlab="Pregnancy length", ylab="Weeks", main="Pregnancy lengths of miscarriages")
```

Based on the miscarriage histogram, miscarriages tend to occur in the first 20 weeks of the pregnancy.  Don't worry if they say anything in addition to this, but they should at least get this far.


2. [6] Plot the relationship between birth weight and birth order.
  a.  What are the variables that represent the birth weight in pounds (1st child of pregnancy) and the birth order?

Ignoring responses where the birth weight was not given (hint: how can you tell) make the following plots. Include axis labels and titles. (e.g. `, xlab="Pregnancy order", ylab = "Birthweight (lbs)", main = "Birthweight by pregnancy order"`)

  b.  Plot a boxplot of birth weight by pregnancy order (note: convert pregnancy order to a factor using `as.factor()`).
  c.  Plot a jitter plot of birthweight by birth order.
  d.  The jitter plot is hard to read. Set the alpha = 1/5 and plot again.
  e.  Why are there so many missing values reported when making these plots? (or what did you do to prevent missing values in this plot)
 
**ANSWER**

BIRTHWGHT_LB1 is the birth weight (of a first child born in the case of twins/triplets).
pregordr indicates birth order

```{r, echo = FALSE}
qplot(as.factor(pregordr), BIRTHWGT_LB1, data = FemPreg[FemPreg$BIRTHWGT_LB1<99,], geom = "boxplot", xlab="Pregnancy order", ylab = "Birthweight (lbs)", main = "Birthweight by pregnancy order") 
qplot(as.integer(pregordr), as.integer(BIRTHWGT_LB1), data = FemPreg[FemPreg$BIRTHWGT_LB1<99,], geom = "jitter", xlab="Pregnancy order", ylab = "Birthweight (lbs)", main = "Birthweight by pregnancy order") 
qplot(as.integer(pregordr), as.integer(BIRTHWGT_LB1), data = FemPreg[FemPreg$BIRTHWGT_LB1<99,], geom = "jitter", alpha = I(1/5), xlab="Pregnancy order", ylab = "Birthweight (lbs)", main = "Birthweight by pregnancy order")
```

There are a large number of missing values in birthweight because of pregancies that do not result in live births.
