---
title: 'Lab 3: SQL Joins'
author: "IE 0015 Information Systems Engineering"
date: "01/21/2015"
output: pdf_document
---

This lab uses the ACS Public Use Microdata Sample (PUMS) data for Pittsburgh (North) (Public Use Microdata Area 01701).  The data dictionary is at 
http://www.census.gov/programs-surveys/acs/technical-documentation/pums/documentation.2012.html

NOTE:  To force a number that is stored as a string to behave like a number, use CAST.

```
SELECT p.SERIALNO, p.AGEP, h.FPARC, h.FES
FROM ss12ppa AS p JOIN ss12hpa as h
ON p.SERIALNO=h.SERIALNO
WHERE cast(p.AGEP as INTEGER) BETWEEN 0 AND 18
AND h.FPARC IN ("1", "2", "3")
AND h.FES IN ("5", "6", "7", "8")
```


1. [1] Determine the fields which identify the number of people in the household, and the type of household ownership (Group Quarter (i.e. dorms, prisons, military barracks), Rental, Own).

2.  [2] Determine the number of people who live in Group Quarters, Rent, Own (include mortgage), or are not currently paying for housing and compare this to the total population (calculate the percent of total of each category, you may calculate this separate from the SQL query).  Include query(ies), the resulting table, and the percentages of people in each category.

3.  [3] New York City recently instituted universal Pre-Kindergarden (Pre-school) for four year-olds.  What is the fraction of 4 and 5 year olds in Pre-school in Pittsburgh (North)? 
  a.  What field identifies age of child?
  b.  What field identifies if the child is in school?
  c.  Generate a query that identifies the school status of 4 and 5 year olds. Do not include children in Kindergarden should not be counted (because they have finished eligibility for Pre-school)
  d.  What is the fraction of 4 and 5 year olds are in pre-school? (Note: you will be able to calculate this with the results of part (c))

4.  [4] What fraction of pre-school age children (under 6) live in households with a grandparent?
  a.  What field in what table identifies households with children?
  b.  What field in what table identifies if grandparents are living with grandchildren in the household?
  c.  What query determines how many children under 6 are living in a household?
  d.  Determine what fraction of children of pre-school age (under 6) live in households with a grandparent.
  
