---
title: "Reading data into databases"
author: "IE0015 Lab 1"
date: "January 12/13, 2017"
output: pdf_document
---

Note: This lab should be done as a Word file so you can cut and paste MS Access output to answer questions as needed.

1. [1] Download the Titanic data from Courseweb (My Documents -> Data Sets) and look at it using a text editor (Notepad or the R Studio editor). 

What character separates fields in this file?  What character identifies text that should be kept in the same data field?  What would happen if you did not identify text that should be kept together?


comma, "", the name would be broken into two columns.

2. [1]  Using the MS Access, import the Titanic data. How many rows and columns are in the resulting table?  

1309 rows, 14 columns. (15 if you added a primary key)  Can look at the bottom of the table to get the number of rows. You could count the number of columns by hand. 

Note: If you get 1310 that means you didn't select the first rows as field name. Remember to select first row as field name when you importing csv into database.


3. [1]  There are generally commas in the name and the home.dest field data.  Why did these not cause the data to be divided into two different columns.

The double quotes keep the text together.

4.  [2] Create an SQL query to determine, from each port of embarkation, how many females (women and girls) survived and perished.

Your answer should include a table with the answer (note that you should name the cities, not only the initial) and the final SQL query that allowed you to answer the question.

CountOfID	| embarked |	sex	| survived | Port name (not from SQl query)
---|---|---|---|-
2	| |	female |	1 | None
11	| C	| female	| 0 | Cherbourg
102	| C	| female	| 1 | Cherbourg
23	| Q	| female	| 0 | Queenstown
37	| Q	| female	| 1 | Queenstown
93	| S	| female	| 0 | Southampton
198	| S	| female	| 1 | Southampton


```
SELECT Count(Titanic3.ID) AS CountOfID, Titanic3.embarked, Titanic3.sex, Titanic3.survived
FROM Titanic3
GROUP BY Titanic3.embarked, Titanic3.sex, Titanic3.survived
HAVING (((Titanic3.sex)="female"));
```

5. [1] Download and look at the data from the two American Community Survey (ACS) Pittsburgh North (01701) tables using a text editor.  How are columns separated?  How is text that should not be separated identified? What column should be guaranteed to be unique and can serve as a primary key?


comma, "", 

SERIALNO (for household record) Alternative PK_UID
 
SERIALNO and SPORDER (for person record, do not take off if they did not get this)



6. [*] Load both tables into MS Access.  What error messages did you see?

The personal file does not load because it has more than 255 columns


7. [1] In the ACS Household survey data, how many [1] Determine the fields which identify the number of people in the household, and the type of household ownership (Group Quarter (i.e. dorms, prisons, military barracks), Rental, Own) You will need to access the ACS Codebook/Data Dictionary from the ACS website.

ANSWERS

- TEN identifies type of ownership
- NP identifies people in household

8.  [2] Determine the number of people who live in Group Quarters, Rent, Own (include mortgage), or are not currently paying for housing and compare this to the total population (calculate the percent of total of each category, you may calculate this separate from the SQL query).  Include query(ies), the resulting table, and the written value of the tenure (TEN results in a number) Note that the table should use words to indicate tenure (the type of ownership)

```
SELECT Ss12hpa.TEN, Count(Ss12hpa.SERIALNO) AS CountOfSERIALNO, Sum(Ss12hpa.NP) AS SumOfNP
FROM Ss12hpa
GROUP BY Ss12hpa.TEN;
```

Tenure| TEN	| CountOfSERIALNO |	SumOfNP
---|---|---|---
GQ |  |	458 |	387
Own(Mortgage) | 1	| 219	| 507
Own(no mortgage) | 2	| 155 |	272
Rent | 3	| 407	| 707
Occupied (no rent) | 4	| 16	| 36

